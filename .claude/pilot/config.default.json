{
  "version": "0.4.0",
  "token_budget": {
    "warning_threshold": 50000,
    "target_range": {
      "min": 20000,
      "max": 80000
    },
    "compaction_trigger": 100000
  },
  "session": {
    "auto_capsule": true,
    "capsule_interval_minutes": 15
  },
  "commits": {
    "conventional": true,
    "include_bd_id": true,
    "auto_stage": false
  },
  "planning": {
    "require_approval": true,
    "max_steps_per_plan": 10,
    "auto_verify": true
  },
  "beads": {
    "auto_claim": true,
    "auto_close": false
  },
  "quality_gates": {
    "enabled": true,
    "file_size": {
      "enabled": true,
      "warn": 300,
      "block": 500
    },
    "lint": {
      "enabled": true,
      "timeout": 30000
    },
    "secrets": {
      "enabled": true
    },
    "duplicate": {
      "enabled": true,
      "block_threshold": 0.7,
      "warn_threshold": 0.5,
      "min_lines": 15
    },
    "type_check": {
      "enabled": true,
      "timeout": 30000
    },
    "security": {
      "enabled": true,
      "block_severities": ["critical", "high"],
      "warn_severities": ["moderate"]
    }
  },
  "cost_tracking": {
    "enabled": true,
    "cost_per_million_tokens": 10.0,
    "bytes_per_token": 4,
    "budgets": {
      "per_task": {
        "warn_tokens": 500000,
        "block_tokens": 2000000
      },
      "per_agent_per_day": {
        "warn_tokens": 1000000,
        "block_tokens": 3000000
      },
      "per_day": {
        "warn_tokens": 5000000,
        "block_tokens": 10000000
      },
      "enforcement": "soft"
    }
  },
  "benchmarks": {
    "enabled": true,
    "targets": {
      "init_to_commit_minutes": 15,
      "test_coverage_percent": 80,
      "security_critical_high": 0,
      "duplicate_percent": 5,
      "file_size_violations": 0
    },
    "tracking": {
      "log_to_session": true,
      "metrics_file": "work/metrics/benchmarks.json"
    }
  }
}
